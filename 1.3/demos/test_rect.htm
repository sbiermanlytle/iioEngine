<!-- 
	iio Engine v1.3.2 preview
	*************************
	the source code for 1.3.2 is not yet available for download
	this document previews the new syntax and gives examples of different
		ways to draw rectangles with iio
	
	Live Demo: http://iioengine.com/1.3/demos/test_rect.htm
 -->
<!DOCTYPE html>
<html style='background:black'>
	<header>
		<script type="text/javascript" src="../js/iioEngine.min.pre1.3.2.js"></script>
		<script type="text/javascript" src="../js/iioDebugger-1.3.3.js"></script>
		<style>
			html,body,div{
				margin:20;padding:0;
			}
		</style>
	</header>
	<body>  
	  <canvas id="c1" width="60" height="60"></canvas>
	  <canvas id="c2" width="60" height="60"></canvas>
	  <canvas id="c3" width="60" height="60"></canvas>
	  <canvas id="c4" width="60" height="60"></canvas>
	  <canvas id="c5" width="60" height="60"></canvas>
	  <canvas id="c6" width="60" height="60"></canvas>
	  <canvas id="c7" width="60" height="60"></canvas>
	  <canvas id="c71" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c8" width="60" height="60"></canvas>
	  <canvas id="c9" width="60" height="60"></canvas>
	  <canvas id="c10" width="60" height="60"></canvas>
	  <canvas id="c11" width="60" height="60"></canvas>
	  <canvas id="c12" width="60" height="60"></canvas>
	  <canvas id="c127" width="60" height="60"></canvas>
	  <canvas id="c128" width="60" height="60"></canvas>
	  <canvas id="c129" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c15" width="60" height="60"></canvas>
	  <canvas id="c16" width="60" height="60"></canvas>
	  <canvas id="c17" width="60" height="60"></canvas>
	  <canvas id="c18" width="60" height="60"></canvas>
	  <canvas id="c19" width="60" height="60"></canvas>
	  <canvas id="c191" width="60" height="60"></canvas>
	  <canvas id="c192" width="60" height="60"></canvas>
	  <canvas id="c193" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c20" width="60" height="60"></canvas>
	  <canvas id="c21" width="60" height="60"></canvas>
	  <canvas id="c22" width="60" height="60"></canvas>
	  <canvas id="c23" width="60" height="60"></canvas>
	  <canvas id="c24" width="60" height="60"></canvas>
	  <canvas id="c25" width="60" height="60"></canvas>
	  <canvas id="c255" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c26" width="60" height="60"></canvas>
	  <canvas id="c27" width="60" height="60"></canvas>
	  <canvas id="c28" width="60" height="60"></canvas>
	  <canvas id="c29" width="60" height="60"></canvas>
	  <canvas id="c30" width="60" height="60"></canvas>
	  <canvas id="c31" width="60" height="60"></canvas>
	  <canvas id="c32" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c33" width="60" height="60"></canvas>
	  <canvas id="c34" width="60" height="60"></canvas>
	  <canvas id="c35" width="60" height="60"></canvas>
	  <canvas id="c36" width="60" height="60"></canvas>
	  <canvas id="c37" width="60" height="60"></canvas>
	  <canvas id="c38" width="60" height="60"></canvas>
	  <canvas id="c39" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c40" width="60" height="60"></canvas>
	  <canvas id="c41" width="60" height="60"></canvas>
	  <canvas id="c42" width="60" height="60"></canvas>
	  <canvas id="c43" width="60" height="60"></canvas>
	  <canvas id="c44" width="60" height="60"></canvas>
	  <canvas id="c45" width="60" height="60"></canvas>
	  <canvas id="c46" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c47" width="60" height="60"></canvas>
	  <canvas id="c48" width="60" height="60"></canvas>
	  <canvas id="c49" width="60" height="60"></canvas>
	  <canvas id="c50" width="60" height="60"></canvas>
	  <canvas id="c51" width="60" height="60"></canvas>
	  <canvas id="c52" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c53" width="60" height="60"></canvas>
	  <canvas id="c54" width="60" height="60"></canvas>
	  <canvas id="c55" width="60" height="60"></canvas>
	  <canvas id="c56" width="60" height="60"></canvas>
	  <canvas id="c57" width="60" height="60"></canvas>
	  <canvas id="c58" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c59" width="60" height="60"></canvas>
	  <canvas id="c60" width="60" height="60"></canvas>
	  <canvas id="c61" width="60" height="60"></canvas>
	  <canvas id="c62" width="60" height="60"></canvas>
	  <canvas id="c63" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="references" width="200" height="200"></canvas>
		<script type="text/javascript">

/*TEST:Properties*/
iio.app.outline='rgb(60, 60, 60)';

//REFERENCE
	iio.start(function(app){

		//debugger title
		app.debug({right:0}).log("rectangle properties"
			,{borderBottom:'1px solid white'});

		//create a rect
		var rect = app.run('add center #00baff 40:');

		//display rect properties
		app.log('type: '+rect.type);
		app.log('pos: '+rect.pos.x+':'+rect.pos.y);
		app.log('scale: '+rect.scale);
		app.log('color: '+rect.color);
	},'c1');

//DISPLAY
	//TEST: color
		//iio apps
			//add a 40x40px red rect to the center of #c1
			iio.start('add center red 40:','c1');
			//add a 20x40px blue rect to 20,height/2 of #c2
			iio.start('add 20:height/2 #00baff 20:40','c2');

		//javascript w/ iio
		iio.start(function(app){
			var rect = app.run('add width-20:height/2 #00baff 20:40');
			console.log(rect.width);
		},'c3');

		//javascript add w/ iio+javascript
		iio.start(function(app){
			var rect = app.add(app.center,'red 40:');
		},'c4');
		iio.start(function(app){
			var rect = app.add([20,app.height/2],
				['20:',{color:'#00baff'}]);
		},'c5');

		//javascript add
		iio.start(function(app){
			var rect = app.add(app.center,{
				color:'red',
				width:20,
				height:30
			});
		},'c6');

		//create rect then add
		iio.start(function(app){
			var rect = new iio.Obj([app.center],'20:40 #00baff');
			app.add(rect);
		},'c7');

		//canvas context draw
		iio.start(function(app){
			app.ctx.fillStyle='red';
			app.ctx.fillRect(10,10,app.width-20,app.height-20);
			app.ctx.stroke();
		},'c71');

	//TEST: gradients
		//iio apps
			iio.start('add center 40: gradient:0,0,0,30:0,#00baff:.6,black','c8');
			iio.start('add center 40: gradient:0,30,0,-60:0,red:.6,black','c9');

		//javascript w/ iio
		iio.start(function(app){
			var rect = app.run('add center gradient:0,-25,0,25'
				+":0,rgb(30,181,58)"
				+":.5,yellow"
				+":1,rgb(255,0,0)"
				+' 15:50');
		},'c10');

		//javascript add w/ iio
		iio.start(function(app){
			var rect = app.add(app.center,'60:'+
				" gradient:0,0,.01,0,0,40"
					+":0,rgba(255,255,0,.7)"
					+":1,transparent")

		},'c11');
		iio.start(function(app){
			var rect = app.add(app.center,['60:',
				" gradient:0,0,.01,0,0,29"
					+":0,rgb(255,238,40)"
					+":.18,rgb(255,238,40)"
					+":.19,rgb(194,66,57)"
					+":.4,rgb(194,66,57)"
					+":.41,rgb(130,194,238)"
					+":.6,rgb(130,194,238)"
					+":.61,rgb(254,254,254)"
					+":.78,rgb(254,254,254)"
					+":.79,rgb(52,50,51)"
					+":.97,rgb(52,50,51)"
					+":.98,black"
					+":1,black"
			]);
		},'c12');

		//javascript add
		iio.start(function(app){
			var rect = app.add(app.center,{
				width:40,
				height:40,
				color:'gradient:-30,0,60,0:0,#00baff:.6,black'
			});
		},'c127');

		//canvas context draw
		iio.start(function(app){
			var gradient = app.ctx.createLinearGradient(0,0,100,0);
			gradient.addColorStop(0,"black");
			gradient.addColorStop(.7,"red");
			app.ctx.fillStyle=gradient;
			app.ctx.fillRect(10,10,app.width-20,app.height-20);
			app.ctx.stroke();
		},'c128');

	//TEST: alpha
		//iio apps
			//with alpha
		iio.start('add center 50: #00baff alpha .8','c15');
			//with rgba
		iio.start('add center 48: rgba(255,0,0,.7)','c16');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add center 46: #00baff alpha .6')
		},'c17');

		//javascript add w/ iio
		iio.start(function(app){
			app.add(app.center,'44: red alpha .5')
		},'c18');

		//javascript add w/ iio+javascript
		iio.start(function(app){
			app.add(app.center,['42:',{
				color:'#00baff',
				alpha:.4}]);
		},'c19');

		//javascript add
		iio.start(function(app){
			var rect = app.add(app.center,{
				color:'red',
				width:40,
				height:40,
				alpha:.3,
			});
		},'c191');

		//create rect then add
		iio.start(function(app){
			var rect = new iio.Obj(app.center,'38:');
			rect.color='#00baff';
			rect.alpha=.2;
			app.add(rect);
		},'c192');

		//draw without adding
		iio.start(function(app){
			new iio.Obj(app.center,'36: red alpha .1').draw(app.ctx);
		},'c193');

	//TEST: outline & lineWidth
		//iio apps
		iio.start('add center 40: outline red','c20');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add center 40: outline #00baff 2')
		},'c21');

		//javascript add w/ iio
		iio.start(function(app){
			app.add(app.center,'40: outline red 3')
		},'c22');

		//javascript add w/ iio+javascript
		iio.start(function(app){
			app.add(app.center,['38:',{
				outline:'#00baff',
				lineWidth:4}]);
		},'c23');

		//javascript add
		iio.start(function(app){
			var rect = app.add(app.center,{
				width:38,
				height:38,
				outline:'red',
				lineWidth:5
			});
		},'c24');

		//create rect then add
		iio.start(function(app){
			var rect = new iio.Obj(app.center,'37:');
			rect.outline='#00baff';
			rect.lineWidth=6;
			app.add(rect);
		},'c25');

		//draw without adding
		iio.start(function(app){
			new iio.Obj(app.center,'36: outline red 7').draw(app.ctx);
		},'c255');

	//TEST: dash & lineCap
		//iio apps
		iio.start('add center 40: outline #00baff dash 1','c26');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add center 40: outline red 2 dash 10 2')
		},'c27');

		//javascript add w/ iio
		iio.start(function(app){
			app.add(app.center,'40: outline #00baff 3 dash 2 2')
		},'c28');

		//javascript add w/ iio+javascript
		iio.start(function(app){
			app.add(app.center,['38:',{
				outline:'red',
				dash:[10,2,4,2],
				lineWidth:4}]);
		},'c29');

		//javascript add
		iio.start(function(app){
			var rect = app.add(app.center,{
				width:38,
				height:38,
				outline:'#00baff',
				dash:[1,2],
				lineWidth:5
			});
		},'c30');

		//create rect then add
		iio.start(function(app){
			var rect = new iio.Obj(app.center,'37:');
			rect.outline='red';
			rect.lineWidth=6;
			rect.dash=[1,3,2,3,3,3,4,3,5,3,6,3,7,3,8,3,9,3];
			app.add(rect);
		},'c31');

		//draw without adding
		iio.start(function(app){
			new iio.Obj(app.center,'36: outline #00baff 7 dash 2 1 10 1 2 2').draw(app.ctx);
		},'c32');

	//TEST: shadow
		//iio apps
		iio.start('white add center 30: red shadow 5:5 10 black','c33');

		//javascript w/ iio
		iio.start(function(app){
			app.run('white add center 30: outline #00baff 3 shadow 5:5 6 black')
		},'c34');

		//javascript add w/ iio
		iio.start(function(app){
			app.set('white');
			app.add(app.center,'30: outline red 3 dash 2 2 shadow 5:5 4 black')
		},'c35');

		//javascript add w/ iio+javascript
		iio.start(function(app){
			app.set('white');
			app.add(app.center,['30:',{
				color:'#00baff',
				shadow:'8:8 6 black',
				lineWidth:4}]);
		},'c36');

		//javascript add
		iio.start(function(app){
			app.set('white');
			var rect = app.add(app.center,{
				width:30,
				height:30,
				outline:'red',
				dash:[1,2],
				lineWidth:5,
				shadow:'5:5 1 black'
			});
		},'c37');

		//create rect then add
		iio.start(function(app){
			app.set('white');
			var rect = new iio.Obj(app.center,'30:');
			rect.outline='#00baff';
			rect.lineWidth=6;
			rect.shadow='5:5 10 black'
			app.add(rect);
		},'c38');

		//draw without adding
		iio.start(function(app){
			app.set('white');
			new iio.Obj(app.center,'30: outline red 7 dash 2 1 10 2 shadow 5:5 6 black').draw(app.ctx);
		},'c39');

	//TEST: fps & hidden
		//iio app
		iio.start('add center 35: #00baff loop 1 !hidden if hidden app randomColor else app red then app draw','c40');

		//javascript app w/ iio
		iio.start(function(app){
			app.run('add center 35: red loop 2 !hidden if hidden app randomColor else app #00baff then app draw');
		},'c41');

		//javascript add w/ iio
		iio.start(function(app){
			var rect = app.add(app.center,'#00baff 35:');

			app.loop(3,function(){
				if(!rect.hidden) app.set('transparent');
				else app.set('randomColor');
				rect.hidden=!rect.hidden;
			});
		},'c42');

		//javascript add
		iio.start(function(app){
			var rect = app.add(app.center,{
				color:'red',
				width:35,
				height:35
			});
			app.loop(4,function(){
				if(rect.hidden){
					rect.hidden=false;
					app.set('transparent');
				} else {
					rect.hidden=true;
					app.set('randomColor');
				}
			});
		},'c43');

		//create rect then add
		iio.start(function(app){
			var rect = new iio.Obj(app.center,'35:');
			rect.color='#00baff';
			app.add(rect);
			app.loop(5,function(){
				if(rect.hidden){
					rect.hidden=false;
					app.set('transparent');
				} else {
					rect.hidden=true;
					app.set('randomColor');
				}
			});
		},'c44');

		//create rect and draw without adding
		iio.start(function(app){
			var rect = new iio.Obj(app.center,'35:');
			rect.color='red';
			rect.loop(6,function(dt,o){
				if(o.hidden){
					o.hidden=false;
					app.set('transparent');
				} else {
					o.hidden=true;
					app.set('randomColor');
				}
				rect.draw(app.ctx);
			});
		},'c45');

	//TEST: rot
		//iio app
		iio.start('add center 30: red loop rotate .1','c47');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add center 30: #00baff loop 50 rotate -.1');
		},'c48');

		//javascript add w/ iio
		iio.start(function(app){
			var rect = app.add(app.center,'red 30:');
			app.loop(function(){
				rect.rot+=.05;
				if(rect.rot<-Math.PI*2)
					rect.rot=0;
			});
		},'c49');
	
		//javascript add
		iio.start(function(app){
			var rect = app.add(app.center,{
				color:'#00baff',
				width:30,
				height:30,
				rot:2
			});
			app.loop(40,function(){
				rect.rot-=.05;
				if(rect.rot<-Math.PI*2)
					rect.rot=0;
			});
		},'c50');

		//create rect then add
		iio.start(function(app){
			var rect = new iio.Obj(app.center,'30:');
			rect.outline='red';
			rect.lineWidth=4;
			rect.rot=0;
			app.add(rect);
			app.loop(40,function(){
				rect.rot+=.05;
				if(rect.rot<-Math.PI*2)
					rect.rot=0;
			});
		},'c51');

		//create rect and draw without adding
		iio.start(function(app){
			var rect = new iio.Obj(app.center,'30:');
			rect.color='#00baff';
			rect.rot=.1;
			rect.loop(30,function(dt,o){
				o.rot-=.05;
				if(o.rot>Math.PI*2)
					o.rot=0;
				app.draw();
				rect.draw(app.ctx);
			});
		},'c52');

	//TEST: vel
		//javascript add w/ iio
		iio.start(function(app){
			var rect = app.add(app.center,'30: #00baff vel -1::.12');

			app.loop(45,function(){
				if(rect.pos.x<0||rect.pos.x>app.width)
					rect.vel.x*=-1;
			});
		},'c54');

		//javascript add
		iio.start(function(app){
			var rect = app.add(app.center,{
				color:'red',
				width:30,
				height:30,
				vel:{x:.6,r:-.13}
			});
			app.loop(50,function(){
				if(rect.pos.x<0||rect.pos.x>app.width)
					rect.vel.x*=-1;
			});
		},'c55');

		//create rect then add
		iio.start(function(app){
			var rect = new iio.Obj(app.center);
			rect.color='#00baff';
			rect.width=30;
			rect.height=30;
			rect.vel={x:-.6,r:.14};
			app.add(rect);
			app.loop(function(){
				if(rect.pos.x<0||rect.pos.x>app.width)
					rect.vel.x*=-1;
			});
		},'c56');

	//TEST: acc
		//javascript add w/ iio
		iio.start(function(app){
			var rect = app.add(app.center,'20: #00baff vel 1: acc .05::.2');

			app.loop(40,function(){
				if(rect.center.x<3)
					rect.vel.x=1;
				else if(rect.center.x>app.width-10)
					rect.vel.x=-2;
			});
		},'c60');

		//javascript add
		iio.start(function(app){
			var rect = app.add(app.center,{
				color:'red',
				width:20,
				height:20,
				vel:{x:1},
				acc:{x:-.05,r:.2}
			});
			app.loop(50,function(){
				if(rect.center.x<10)
					rect.vel.x=2;
				else if(rect.center.x>app.width-3)
					rect.vel.x=-1;
			});
		},'c61');

		//create rect then add
		iio.start(function(app){
			var rect = new iio.Obj(app.center);
			rect.color='#00baff';
			rect.width=20;
			rect.height=20;
			rect.vel={x:1};
			rect.acc={x:.05,r:.2};
			app.add(rect);
			app.loop(function(){
				if(rect.center.x<3)
					rect.vel.x=1;
				else if(rect.center.x>app.width-10)
					rect.vel.x=-2;
			});
		},'c62');
		</script>
	</body>
</html>