<html lang="en">
<head>
  <meta charset="utf-8">
  <title>iio.js &middot; ColorLines</title>
  <meta name="description" content="iio ColorLines demo source code">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" type="favicon/png" href="../../img/favicon.ico">
  <link rel="stylesheet" type="text/css" href="../../css/style.css">
</head>
<body onload="prettyPrint()">
  <pre class="prettyprint linenums:1">/* ColorLines
*  ------------------
*  iio.js version 1.4 
*/

// define a new iio app
function ColorLines( app, settings ){

  // initialize settings
  settings = settings || {};
  var lineWidth = settings.lineWidth || 60;

  // add enough lines to fill the screen
  var offset = -app.width-lineWidth;
  for( offset; offset &lt; app.width; offset += lineWidth ){
    app.add( new iio.Line({
      color: iio.Color.random(),
      width: lineWidth,
      // set line vertices
      vs:[
        // start coordinates
        [ 0+offset, 0-lineWidth ],
        // end coordinates
        [ app.width+lineWidth, app.height-offset ]
      ],
      // animate the color with changing cycles
      cycle: 0,
      onUpdate: function(){
        switch(this.cycle){
          case 1: 
            if( this.color.g &gt; 100 )
              this.color.g--;
            else if( this.color.r &gt; 100 )
              this.color.r--;
            else this.cycle = iio.randomInt(1,3);
            break;
          case 2: 
            if( this.color.b &lt; 200 )
              this.color.b++;
            else if( this.color.r &lt; 200 )
              this.color.r++;
            else this.cycle = iio.randomInt(1,3);
            break;
          case 3: 
            if( this.color.g &gt; 0 )
              this.color.g--;
            else if( this.color.r &gt;0 )
              this.color.r--;
            else this.cycle = iio.randomInt(1,3);
            break;
          default: 
            if( this.color.r &lt; 255 )
              this.color.r++;
            else if( this.color.b &lt; 255 )
              this.color.b++;
            else this.cycle = iio.randomInt(1,3);
        }
      }
    // pass true to suppress app redraw
    }), true);
  }
}

// start the app on an existing canvas
iio.start( ColorLines, 'canvasId' );</pre>
<script type="text/javascript" src="../../js/prettify.js"></script>
</body>
</html>